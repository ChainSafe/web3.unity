{"version":3,"sources":["web3gl/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["web3","window","web3gl","login","loginMessage","sendContract","sendContractResponse","onboard","Onboard","dappId","networkName","web3NetworkName","networkId","web3NetworkId","subscriptions","wallet","Web3","provider","console","log","name","walletSelect","wallets","walletName","preferred","infuraKey","a","walletCheck","signMessage","eth","getAccounts","from","expiration","Math","round","Date","now","toString","message","personal","sign","signature","method","abi","contract","args","value","Contract","JSON","parse","methods","send","on","transactionHash","error","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4eAGIA,E,yGAwBJC,OAAOC,OAAS,CACdC,M,2CACAC,aAAc,GACdC,a,oDACAC,qBAAsB,IAIxB,IAAMC,EAAUC,YAAQ,CACtBC,OAAQ,uCACRC,YAAaT,OAAOU,gBACpBC,UAAWX,OAAOY,cAClBC,cAAe,CACbC,OAAQ,SAACA,GACPf,EAAO,IAAIgB,IAAKD,EAAOE,UACvBC,QAAQC,IAAR,UAAeJ,EAAOK,KAAtB,wBAGJC,aAAc,CACZC,QAAS,CACP,CAAEC,WAAY,WAAYC,WAAW,GACrC,CACED,WAAY,gBACZE,UAAW,mCACXD,WAAW,GAEb,CAAED,WAAY,QAASC,WAAW,O,4CAOxC,sBAAAE,EAAA,+EAEUnB,EAAQc,eAFlB,uBAGUd,EAAQoB,cAHlB,uBAKuCC,IALvC,OAKI3B,OAAOC,OAAOE,aALlB,OAMIc,QAAQC,IAAIlB,OAAOC,OAAOE,cAN9B,kDAQIc,QAAQC,IAAR,MARJ,2D,+BAaeS,I,2EAAf,kCAAAF,EAAA,sEAC8B1B,EAAK6B,IAAIC,cADvC,cACQC,EADR,OACsD,GAC9CC,EAAqBC,KAAKC,MAAMC,KAAKC,MAAQ,IAAO,KAAKC,WACzDC,EAHR,UAG6BP,EAH7B,YAGqCC,GAHrC,SAIkChC,EAAK6B,IAAIU,SAASC,KAAKF,EAASP,EAAM,IAJxE,cAIQU,EAJR,mCAKYA,EALZ,YAKyBH,IALzB,4C,kEAiBA,WACEI,EACAC,EACAC,EACAC,EACAC,GALF,iBAAApB,EAAA,6DAOER,QAAQC,IAAI,CAAEuB,SAAQC,MAAKC,WAAUC,OAAMC,UAP7C,SAQsB9C,EAAK6B,IAAIC,cAR/B,OAQQC,EARR,OAQ8C,IAC5C,MAAI/B,EAAK6B,IAAIkB,SACXC,KAAKC,MAAMN,GACXC,GAEDM,SAAQR,GAJT,oBAIoBM,KAAKC,MAAMJ,KAC9BM,KAAK,CAAEpB,OAAMe,UACbM,GAAG,mBAAmB,SAACC,GACtBpD,OAAOC,OAAOI,qBAAuB+C,KAEtCD,GAAG,SAAS,SAACE,GACZrD,OAAOC,OAAOI,qBAAuBgD,EAAMhB,WAnB/C,4C,kCCpFeiB,MAJf,WACE,OAAO,yBCWMC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,gCAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.f67feda9.chunk.js","sourcesContent":["import Onboard from \"bnc-onboard\";\nimport Web3 from \"web3\";\n\nlet web3: Web3;\n\n// declare types\ndeclare global {\n  interface Window {\n    web3NetworkName: string; // network.js\n    web3NetworkId: number; // network.js\n    web3gl: Web3GL;\n  }\n}\ninterface Web3GL {\n  login: () => void;\n  loginMessage: string;\n  sendContract: (\n    method: string,\n    abi: string,\n    contract: string,\n    args: string,\n    value: string\n  ) => void;\n  sendContractResponse: string;\n}\n\n// global variables\nwindow.web3gl = {\n  login,\n  loginMessage: \"\",\n  sendContract,\n  sendContractResponse: \"\"\n};\n\n// https://docs.blocknative.com/onboard\nconst onboard = Onboard({\n  dappId: \"abfa7356-64c3-4047-a6e1-cdb39a0c691e\",\n  networkName: window.web3NetworkName, // from network.js\n  networkId: window.web3NetworkId, // from network.js\n  subscriptions: {\n    wallet: (wallet) => {\n      web3 = new Web3(wallet.provider);\n      console.log(`${wallet.name} is now connected`);\n    },\n  },\n  walletSelect: {\n    wallets: [\n      { walletName: \"metamask\", preferred: true },\n      {\n        walletName: \"walletConnect\",\n        infuraKey: \"6429a308b4d646399b1ea170bb406c61\",\n        preferred: true,\n      },\n      { walletName: \"torus\", preferred: true },\n    ],\n  },\n});\n\n\n// call window.web3gl.login() to display onboardjs modal\nasync function login() {\n  try {\n    await onboard.walletSelect();\n    await onboard.walletCheck();\n    // save login message for unity to access\n    window.web3gl.loginMessage = await signMessage();\n    console.log(window.web3gl.loginMessage);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// sign message to verify user address.\nasync function signMessage() {\n  const from: string = (await web3.eth.getAccounts())[0];\n  const expiration: string = Math.round(Date.now() / 1000 + 300).toString();\n  const message: string = `${from}-${expiration}`;\n  const signature: string = await web3.eth.personal.sign(message, from, \"\");\n  return `${signature}-${message}`;\n}\n\n/*\nsend eth and call any contract\nconst method = \"increment\"\nconst abi = [ { \"inputs\": [], \"name\": \"increment\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"name\": \"x\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\" } ]\nconst contract = \"0xB6B8bB1e16A6F73f7078108538979336B9B7341C\"\nconst args = []\nconst value = \"0\"\nwindow.web3gl.callContract(abi, contract, args)\n*/\nasync function sendContract(\n  method: string,\n  abi: string,\n  contract: string,\n  args: string,\n  value: string\n) {\n  console.log({ method, abi, contract, args, value });\n  const from = (await web3.eth.getAccounts())[0];\n  new web3.eth.Contract(\n    JSON.parse(abi),\n    contract\n  )\n  .methods[method](...JSON.parse(args))\n  .send({ from, value })\n  .on(\"transactionHash\", (transactionHash: any) => {\n    window.web3gl.sendContractResponse = transactionHash;\n  })\n  .on(\"error\", (error: any) => {\n    window.web3gl.sendContractResponse = error.message;\n  })\n}\n","import \"./web3gl\"\n\nfunction App() {\n  return <div></div>;\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}